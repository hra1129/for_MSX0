MSX2以降では、SCREEN0〜7, 10, 11 で使える16色をカラーパレットと呼び、
MSX-BASIC の下記の命令で色を変えることが出来る。

	COLOR=(パレット番号, Rのレベル, Gのレベル, Bのレベル )

パレット番号は、0〜15 の16種類。
R,G,Bのレベルはそれぞれ 0〜7 の 8種類。
8 * 8 * 8 = 512 で、512色の中から選択する形となる。

R,G,Bのレベルは、0が 0%, 7が 100% を示す値で、1〜6 はその中間である。

	COLOR=(1,0,0,0)
	これで、パレット1 は黒になる。

	COLOR=(15,7,7,7)
	これで、パレット15 は白になる。

画面表示を司る VDP は、このカラーパレットの値を VDP内部のレジスタに
保持しており、VRAMには保存していない。
しかし、MSX-BASIC が読み返す目的で、VRAM に書き込んでいる。
VRAM上にカラーパレットの領域があるが、各スクリーンモードではそれぞれ
下記のアドレスとなっている。

	SCREEN0 WIDTH40
		&H0400

	SCREEN0 WIDTH80
		&H0F00

	SCREEN1, SCREEN3
		&H2020

	SCREEN2, SCREEN4
		&H1B80

	SCREEN5, SCREEN6
		&H7680

	SCREEN7, SCREEN10, SCREEN11
		&HFA80

VDPがVRAMに配置しているわけでは無いので、VPOKEを使って上記アドレス
に書き込んでも、カラーパレットは変化しない。
VPOKE等で VRAM に書き込んだ値を、実際のカラーパレットに反映したい
場合は、COLOR=RESTORE を実行する。
初期状態のパレットに戻す場合は、COLOR=NEW を実行する。

VRAMへの書き込みが必要ない場合では、VDPを直接制御することで高速に
カラーパレットを変更することが出来る。
特にまとめて変更したい場合にはこの方法を使うとかなり高速になる。

■VDP直接制御によるカラーパレット操作
　　VDP(17)=p
　　OUT154,&Hrb
　　OUT154,&H0g

これで、COLOR=(p,r,g,b) と同じカラーパレット変更の効果を得られる。
さらに、連続するカラーパレットに対して色を設定する場合、VDP(17)
への書き込みは省略できる。

TEST.BAS は COLOR=(P,R,G,B)を使った場合、TEST2.BAS はこの方法を
使った場合のパレットアニメーションサンプルである。
TEST2.BAS の方は、turboR では速すぎるので、1/60秒単位で待機する
ようにウェイト（230行目）を入れてある。
